<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Adicionar Nova Prática</title>
    <%- include('../partials/head') %>
    <style>
        .componente-item { display: flex; justify-content: space-between; align-items: center; padding: 5px; border-bottom: 1px solid #ddd; }
        .btn-remover { background: #dc3545; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; cursor: pointer; }
    </style>
</head>
<body class="poppins-regular bg-base">
    <%- include('../partials/navbar') %>

    <main class="container-signup">
        <h1 class="title">Nova Prática</h1>

        <form id="add-pratica-form" action="/professor/praticas" method="POST" class="form mt-4">
            <div class="form-element">
                <label for="titulo">Título da Prática</label>
                <input type="text" id="titulo" name="titulo" required class="input" />
            </div>

            <div class="form-element">
                <label for="descricao">Descrição</label>
                <textarea id="descricao" name="descricao" class="input" rows="3"></textarea>
            </div>

            <div class="form-element">
                <label for="turmaId">Associar à Turma</label>
                <select id="turmaId" name="turmaId" class="input" required>
                    <option value="" disabled selected>Selecione uma turma</option>
                    <% turmas.forEach(turma => { %>
                        <option value="<%= turma.id %>"><%= turma.nome %></option>
                    <% }) %>
                </select>
            </div>

            <h2 class="title-sm mt-4">Componentes Necessários</h2>
            <div class="form-element">
                <label for="componente-select">Adicionar Componente</label>
                <div >
                    <select id="componente-select" class="input" >
                        <option value="">Selecione um componente</option>
                        <% componentes.forEach(comp => { %>
                            <option value="<%= comp.nome %>"><%= comp.nome %></option>
                        <% }) %>
                    </select>
                    <button type="button" id="add-componente-btn" class="btn-header">Adicionar</button>
                </div>
            </div>

            <div id="lista-componentes-container" class="mt-3"></div>
            
            <input type="hidden" name="componentes" id="componentes-hidden-input" />

            <button type="submit" class="btn btn-primary mt-3">Cadastrar Prática</button>
        </form>
    </main>

    <%- include('../partials/footer') %>
    <script src="/js/professor.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', initializeAddPraticasForm);
    </script>
</body>
</html>